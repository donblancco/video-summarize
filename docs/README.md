# almoprs-video-article

YouTubeå‹•ç”»ã‹ã‚‰è‡ªå‹•çš„ã«WordPressè¨˜äº‹ã‚’ç”Ÿæˆã™ã‚‹AWSã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚·ã‚¹ãƒ†ãƒ 

## ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

æœ¬ã‚·ã‚¹ãƒ†ãƒ ã¯ä»¥ä¸‹ã®æµã‚Œã§å‹•ç”»ã‚’è¨˜äº‹ã«å¤‰æ›ã—ã¾ã™ï¼š

1. **å‹•ç”»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰** â†’ CloudFrontï¼ˆBasicèªè¨¼ä»˜ãï¼‰çµŒç”±ã§S3ãƒã‚±ãƒƒãƒˆã«å‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
2. **éŸ³å£°æŠ½å‡ºãƒ»æ–‡å­—èµ·ã“ã—** â†’ Lambda Container Imageï¼ˆextract_transcriptï¼‰ãŒFFmpegã§éŸ³å£°æŠ½å‡ºï¼‹OpenAI Whisperã§æ–‡å­—èµ·ã“ã—
3. **è¨˜äº‹ç”Ÿæˆ** â†’ Lambda Container Imageï¼ˆgenerate_articleï¼‰ãŒOpenAI GPT-4ã§æ–‡å­—èµ·ã“ã—ã‹ã‚‰HTMLè¨˜äº‹ã‚’ç”Ÿæˆ
4. **WordPressæŠ•ç¨¿** â†’ Lambda Container Imageï¼ˆwordpress_publishï¼‰ãŒè‡ªå‹•ã§WordPressã‚µã‚¤ãƒˆã«æŠ•ç¨¿

## ğŸ—ï¸ AWS ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              AWS Account: almoprs (057493959080)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  ğŸ”Basicèªè¨¼    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   CloudFront    â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚        Lambda@Edge                   â”‚ â”‚
â”‚  â”‚  Distribution   â”‚                  â”‚     (us-east-1ãƒªãƒ¼ã‚¸ãƒ§ãƒ³)             â”‚ â”‚
â”‚  â”‚ E769ZUF7QQQ60   â”‚                  â”‚  video-processing-basic-auth-prod    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           â”‚                                                                   â”‚
â”‚           â–¼ HTTPS                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                         â”‚
â”‚  â”‚   S3 UI Bucket  â”‚ ğŸ“‹ upload-ui.html                                      â”‚
â”‚  â”‚  ui-almoprs     â”‚                                                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                         â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    ãƒ¡ã‚¤ãƒ³å‡¦ç†ãƒã‚±ãƒƒãƒˆ                                     â”‚ â”‚
â”‚  â”‚              video-article-processing-prod                              â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  uploads/     audio/      transcripts/    articles/                     â”‚ â”‚
â”‚  â”‚    ğŸ“¹          ğŸµ            ğŸ“            ğŸ“„                           â”‚ â”‚
â”‚  â”‚    â”‚           â”‚             â”‚             â”‚                            â”‚ â”‚
â”‚  â”‚    â”‚           â”‚             â”‚             â”‚                            â”‚ â”‚
â”‚  â”‚    â–¼ S3ã‚¤ãƒ™ãƒ³ãƒˆ â”‚             â”‚             â”‚                            â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚             â”‚             â”‚                            â”‚ â”‚
â”‚  â”‚ â”‚Lambda1:     â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€                           â”‚ â”‚
â”‚  â”‚ â”‚extract-     â”‚ â”‚             â”‚             â”‚                            â”‚ â”‚
â”‚  â”‚ â”‚transcript   â”‚ â”‚             â”‚             â”‚                            â”‚ â”‚
â”‚  â”‚ â”‚(Container)  â”‚ â”‚             â”‚             â”‚                            â”‚ â”‚
â”‚  â”‚ â”‚+ FFmpeg     â”‚ â”‚             â”‚             â”‚                            â”‚ â”‚
â”‚  â”‚ â”‚2048MB/15åˆ†  â”‚ â”‚             â”‚             â”‚                            â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚             â”‚             â”‚                            â”‚ â”‚
â”‚  â”‚                 â”‚             â–¼ S3ã‚¤ãƒ™ãƒ³ãƒˆ â”‚                            â”‚ â”‚
â”‚  â”‚                 â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                            â”‚ â”‚
â”‚  â”‚                 â”‚          â”‚Lambda2:     â”‚ â”‚                            â”‚ â”‚
â”‚  â”‚                 â”‚          â”‚generate-    â”‚ â”‚                            â”‚ â”‚
â”‚  â”‚                 â”‚          â”‚article      â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚
â”‚  â”‚                 â”‚          â”‚(Container)  â”‚ â”‚                            â”‚ â”‚
â”‚  â”‚                 â”‚          â”‚1024MB/15åˆ†  â”‚ â”‚                            â”‚ â”‚
â”‚  â”‚                 â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                            â”‚ â”‚
â”‚  â”‚                 â”‚                         â”‚                            â”‚ â”‚
â”‚  â”‚                 â”‚                         â–¼ S3ã‚¤ãƒ™ãƒ³ãƒˆ                  â”‚ â”‚
â”‚  â”‚                 â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚ â”‚
â”‚  â”‚                 â”‚                      â”‚Lambda3:     â”‚                  â”‚ â”‚
â”‚  â”‚                 â”‚                      â”‚wordpress-   â”‚                  â”‚ â”‚
â”‚  â”‚                 â”‚                      â”‚publish      â”‚                  â”‚ â”‚
â”‚  â”‚                 â”‚                      â”‚(Container)  â”‚                  â”‚ â”‚
â”‚  â”‚                 â”‚                      â”‚1024MB/15åˆ†  â”‚                  â”‚ â”‚
â”‚  â”‚                 â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚ â”‚
â”‚  â”‚                 â”‚                            â”‚                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                 â”‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚                            â”‚
â”‚  â”‚   ECR Repositoryâ”‚                           â”‚                            â”‚
â”‚  â”‚ video-processingâ”‚                           â”‚                            â”‚
â”‚  â”‚    -lambda      â”‚                           â”‚                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚                            â”‚
â”‚                                                 â”‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚                            â”‚
â”‚  â”‚ CloudWatch Logs â”‚                           â”‚                            â”‚
â”‚  â”‚ å„Lambdaç”¨ãƒ­ã‚°   â”‚                           â”‚                            â”‚
â”‚  â”‚ ä¿æŒæœŸé–“: 14æ—¥   â”‚                           â”‚                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚                            â”‚
â”‚                                                 â–¼ WordPress REST API         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                  â”‚
                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                        â”‚   WordPress     â”‚
                                        â”‚ almoprs-clinic  â”‚
                                        â”‚      .jp        â”‚
                                        â”‚   (è‡ªå‹•æŠ•ç¨¿)     â”‚
                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š AWSãƒªã‚½ãƒ¼ã‚¹æ§‹æˆ

### ap-northeast-1 ãƒªãƒ¼ã‚¸ãƒ§ãƒ³

| ã‚µãƒ¼ãƒ“ã‚¹ | ãƒªã‚½ãƒ¼ã‚¹å | ç”¨é€” | 
|---------|-----------|------|
| **S3** | video-article-processing-prod | ãƒ¡ã‚¤ãƒ³å‡¦ç†ãƒã‚±ãƒƒãƒˆ |
| **S3** | video-article-processing-ui-almoprs-prod | UIå°‚ç”¨ãƒã‚±ãƒƒãƒˆ |
| **CloudFront** | E769ZUF7QQQ60 | UIé…ä¿¡ + Basicèªè¨¼ |
| **Lambda** | extract-transcript-prod | éŸ³å£°æŠ½å‡ºãƒ»æ–‡å­—èµ·ã“ã— |
| **Lambda** | generate-article-prod | HTMLè¨˜äº‹ç”Ÿæˆ |
| **Lambda** | wordpress-publish-prod | WordPressæŠ•ç¨¿ |
| **ECR** | video-processing-lambda | Container Image |
| **IAM** | å„Lambdaç”¨å®Ÿè¡Œãƒ­ãƒ¼ãƒ« | æœ€å°æ¨©é™è¨­å®š |
| **CloudWatch** | å„Lambdaç”¨ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ— | ç›£è¦–ãƒ»ãƒ‡ãƒãƒƒã‚° |

### us-east-1 ãƒªãƒ¼ã‚¸ãƒ§ãƒ³

| ã‚µãƒ¼ãƒ“ã‚¹ | ãƒªã‚½ãƒ¼ã‚¹å | ç”¨é€” |
|---------|-----------|------|
| **Lambda@Edge** | basic-auth-prod | CloudFront Basicèªè¨¼ |
| **CloudWatch** | Lambda@Edgeç”¨ãƒ­ã‚° | èªè¨¼ãƒ­ã‚°ç›£è¦– |

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š

### Basicèªè¨¼ï¼ˆCloudFrontï¼‰
- **URL**: https://dwqp0tli97nsm.cloudfront.net
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼å**: `Uchida`
- **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰**: `Naorun1082`
- **å®Ÿè£…**: Lambda@Edgeï¼ˆus-east-1ï¼‰

### IAMæ¨©é™
- å„Lambdaé–¢æ•°ã«æœ€å°æ¨©é™ã®IAMãƒ­ãƒ¼ãƒ«
- S3ãƒã‚±ãƒƒãƒˆé–“ã®é©åˆ‡ãªã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
- OpenAI/WordPress API ã‚­ãƒ¼ã®ç’°å¢ƒå¤‰æ•°ç®¡ç†

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
almoprs-video-article/
â”œâ”€â”€ aws-lambda/                   # Lambdaé–¢æ•°ã¨Container Image
â”‚   â”œâ”€â”€ Dockerfile               # å…¨Lambdaé–¢æ•°ç”¨ã®ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸å®šç¾©
â”‚   â”œâ”€â”€ extract_transcript_lambda.py    # ç¬¬1æ®µéš: éŸ³å£°æŠ½å‡ºãƒ»æ–‡å­—èµ·ã“ã—
â”‚   â”œâ”€â”€ generate_article_lambda.py      # ç¬¬2æ®µéš: è¨˜äº‹ç”Ÿæˆ
â”‚   â”œâ”€â”€ wordpress_publish_lambda.py     # ç¬¬3æ®µéš: WordPressæŠ•ç¨¿
â”‚   â”œâ”€â”€ requirements-container.txt      # Containerç”¨ä¾å­˜é–¢ä¿‚
â”‚   â”œâ”€â”€ requirements.txt               # é–‹ç™ºç”¨ä¾å­˜é–¢ä¿‚
â”‚   â”œâ”€â”€ upload-ui.html                 # ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”¨WebUI
â”‚   â””â”€â”€ footer.html                    # WordPressæŠ•ç¨¿ç”¨ãƒ•ãƒƒã‚¿ãƒ¼
â”œâ”€â”€ terraform/                    # Terraformã‚¤ãƒ³ãƒ•ãƒ©å®šç¾©
â”‚   â”œâ”€â”€ main.tf                   # ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ãƒ»å…±é€šè¨­å®š
â”‚   â”œâ”€â”€ s3.tf                     # S3ãƒã‚±ãƒƒãƒˆãƒ»CloudFrontãƒ»UI
â”‚   â”œâ”€â”€ lambda.tf                 # Lambdaé–¢æ•°ãƒ»æ¨©é™
â”‚   â”œâ”€â”€ iam.tf                    # IAMãƒ­ãƒ¼ãƒ«ãƒ»ãƒãƒªã‚·ãƒ¼
â”‚   â”œâ”€â”€ cloudwatch.tf             # ãƒ­ã‚°ãƒ»ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°
â”‚   â”œâ”€â”€ outputs.tf                # å‡ºåŠ›å€¤
â”‚   â”œâ”€â”€ terraform.tfvars.example  # è¨­å®šä¾‹
â”‚   â””â”€â”€ terraform.tfstate         # ç¾åœ¨ã®çŠ¶æ…‹
â”œâ”€â”€ local-test/                   # ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆç”¨
â”‚   â”œâ”€â”€ extract_transcript.py     # ãƒ­ãƒ¼ã‚«ãƒ«å‹•ä½œç¢ºèªç”¨
â”‚   â”œâ”€â”€ generate_article.py       # ãƒ­ãƒ¼ã‚«ãƒ«å‹•ä½œç¢ºèªç”¨
â”‚   â””â”€â”€ test_script.py            # çµ±åˆãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ wordpress/                    # WordPressé–¢é€£
â”‚   â”œâ”€â”€ footer.html               # æŠ•ç¨¿ç”¨ãƒ•ãƒƒã‚¿ãƒ¼HTML
â”‚   â””â”€â”€ wordpress_test.py         # WordPress API ãƒ†ã‚¹ãƒˆ
â””â”€â”€ venv/                         # Pythonä»®æƒ³ç’°å¢ƒ
```

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **AWS Lambda**: ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹é–¢æ•°å®Ÿè¡Œï¼ˆContainer Imageå½¢å¼ï¼‰
- **Amazon S3**: ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒ»é™çš„ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°
- **Amazon CloudFront**: CDNï¼ˆUIé…ä¿¡ç”¨ï¼‰
- **Amazon ECR**: Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ¬ã‚¸ã‚¹ãƒˆãƒª
- **FFmpeg**: å‹•ç”»ã‹ã‚‰éŸ³å£°æŠ½å‡º
- **OpenAI API**: Whisperï¼ˆæ–‡å­—èµ·ã“ã—ï¼‰ï¼‹ GPT-4ï¼ˆè¨˜äº‹ç”Ÿæˆï¼‰
- **WordPress REST API**: è‡ªå‹•æŠ•ç¨¿
- **Terraform**: ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ç®¡ç†

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r aws-lambda/requirements.txt
```

### 2. AWSè¨­å®š

```bash
# AWS CLIè¨­å®š
aws configure --profile almoprs

# Terraformè¨­å®š
cd terraform
cp terraform.tfvars.example terraform.tfvars
# terraform.tfvarsã‚’ç·¨é›†
```

### 3. ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# ECRãƒªãƒã‚¸ãƒˆãƒªä½œæˆãƒ»Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ—ãƒƒã‚·ãƒ¥
cd aws-lambda
docker build -t video-processing-lambda .
aws ecr get-login-password --region ap-northeast-1 --profile almoprs | docker login --username AWS --password-stdin 057493959080.dkr.ecr.ap-northeast-1.amazonaws.com
docker tag video-processing-lambda:latest 057493959080.dkr.ecr.ap-northeast-1.amazonaws.com/video-processing-lambda:latest
docker push 057493959080.dkr.ecr.ap-northeast-1.amazonaws.com/video-processing-lambda:latest

# Terraformã§ã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰
cd ../terraform
terraform init
terraform plan
terraform apply
```

## ä½¿ç”¨æ–¹æ³•

### Web UIã‹ã‚‰å‹•ç”»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

1. CloudFront URLã«ã‚¢ã‚¯ã‚»ã‚¹
2. å‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«(.mp4)ã¨YouTube URLã‚’æŒ‡å®š
3. ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ â†’ è‡ªå‹•ã§è¨˜äº‹ç”Ÿæˆãƒ»WordPressæŠ•ç¨¿

### ç›´æ¥S3ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

```bash
aws s3 cp å‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«.mp4 s3://video-article-processing-prod/uploads/ --profile almoprs
```

## ã‚·ã‚¹ãƒ†ãƒ ã®ç‰¹å¾´

- **å®Œå…¨è‡ªå‹•å‡¦ç†**: S3ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ã«ã‚ˆã‚‹3æ®µéšLambdaé€£é–å®Ÿè¡Œ
- **ContaineråŒ–**: FFmpegãƒã‚¤ãƒŠãƒªã‚’å«ã‚€Lambda Container Image
- **ãƒãƒ«ãƒå½¢å¼å¯¾å¿œ**: .mp4ã€.movã€.aviå¯¾å¿œ
- **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«**: ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- **ç›£è¦–å¯èƒ½**: CloudWatch Logsã§å„æ®µéšã®å®Ÿè¡ŒçŠ¶æ³ç¢ºèª
- **ã‚³ã‚¹ãƒˆåŠ¹ç‡**: ä½¿ç”¨æ™‚ã®ã¿èª²é‡‘

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Lambdaå®Ÿè¡ŒçŠ¶æ³ç¢ºèª

```bash
aws logs filter-log-events --log-group-name /aws/lambda/video-article-processing-extract-transcript-prod --start-time $(date -d '1 hour ago' +%s)000 --profile almoprs
```

### S3ãƒã‚±ãƒƒãƒˆå†…å®¹ç¢ºèª

```bash
aws s3 ls s3://video-article-processing-prod/ --recursive --profile almoprs
```

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License